<!--[*  $Id: news_admin_modifyconfig.htm 75 2009-02-24 04:51:52Z mateo $  *]-->

<!--[include file='news_admin_menu.htm']-->

<div class="z-admincontainer">
    <div class="z-adminpageicon"><!--[pnimg modname='core' src='configure.gif' set='icons/large' __alt='News Publisher Settings']--></div>

    <h2><!--[gt text='News Publisher Settings']--></h2>

    <form class="z-form" action="<!--[pnmodurl modname='News' type='admin' func='updateconfig']-->" method="post" enctype="application/x-www-form-urlenpred">
    <div>
        <input type="hidden" name="authid" value="<!--[insert name='generateauthkey' module='News']-->" />

        <fieldset>
            <legend><!--[gt text='Categories']--></legend>
            <div class="z-formrow">
                <label for="news_enablecategorization"><!--[gt text='Enable categorization']--></label>
                <input id="news_enablecategorization" type="checkbox" name="enablecategorization"<!--[if $enablecategorization]--> checked="checked"<!--[/if]--> />
            </div>
            <div class="z-formrow">
                <label for="topicproperty"><!--[gt text='Category to use for legacy Topic template variables']--></label>
                <!--[html_options id='topicproperty' name='topicproperty' options=$properties selected=$property]-->
            </div>
            <div class="z-formrow">
                <label for="settings_catimagepath"><!--[gt text='Category image path']--></label>
                <input id="settings_catimagepath" type="text" name="catimagepath" value="<!--[$catimagepath|pnvarprepfordisplay]-->" size="40" maxlength="80" />
                <div class="z-informationmsg"><!--[gt text='Each category used within News can have an image associated with it. This image must be located in the category image path specified above. Within the Category administration panel, you can set the associated image by adding a category attribute 'topic_image' with the name of the image.']--></div>
            </div>
        </fieldset>

        <fieldset>
            <legend><!--[gt text='Article attributes']--></legend>
            <div class="z-formrow">
                <label for="news_enableattribution"><!--[gt text='Enable attribution']--></label>
                <input id="news_enableattribution" type="checkbox" name="enableattribution"<!--[if $enableattribution]--> checked="checked"<!--[/if]--> />
            </div>
        </fieldset>

        <fieldset>
            <legend><!--[gt text='Display settings']--></legend>
            <div class="z-formrow">
                <label for="settings_storyorder"><!--[gt text='Order by']--></label>
                <select id="settings_storyorder" name="storyorder" size="1">
                    <option value="0"<!--[if $storyorder eq 0]--> selected="selected"<!--[/if]-->><!--[gt text='News ID']--></option>
                    <option value="1"<!--[if $storyorder eq 1]--> selected="selected"<!--[/if]-->><!--[gt text='News Date/Time']--></option>
                </select>
            </div>
            <div class="z-formrow">
                <label for="settings_storyhome"><!--[gt text='Number of articles on News lead page']--></label>
                <input id="settings_storyhome" type="text" name="storyhome" value="<!--[$storyhome|pnvarprepfordisplay]-->" size="5" maxlength="5" />
            </div>
            <div class="z-formrow">
                <label for="news_itemsperpage"><!--[gt text='Number of articles in news index']--></label>
                <input id="news_itemsperpage" type="text" name="itemsperpage" size="3" value="<!--[$itemsperpage|pnvarprepfordisplay]-->" />
            </div>
            <div class="z-formrow">
                <label for="news_refereronprint"><!--[gt text='Check referer on printer-friendly pages']--></label>
                <div id="news_refereronprint">
                    <input type="radio" id="refereronprintyes" name="refereronprint" value="1"<!--[if $refereronprint eq 1]--> checked="checked"<!--[/if]--> /> <label for="refereronprintyes"><!--[gt text='Yes']--></label>
                    <input type="radio" id="refereronprintno" name="refereronprint" value="0"<!--[if $refereronprint eq 0]--> checked="checked"<!--[/if]--> /> <label for="refereronprintno"><!--[gt text='No']--></label>
                </div>
            </div>
            <div class="z-formrow">
                <label for="news_enableajaxedit"><!--[gt text='Enable inline editing of articles with AJAX']--></label>
                <input id="news_enableajaxedit" type="checkbox" name="enableajaxedit"<!--[if $enableajaxedit]--> checked="checked"<!--[/if]--> />
            </div>
        </fieldset>

        <!--[pnconfiggetvar name='shorturls' assign='shorturls']-->
        <!--[if $shorturls eq true]-->
        <!--[pnajaxheader modname='News' filename='news_admin_modifyconfig.js' effects=true nobehaviour=true noscriptaculous=true]-->
        <fieldset>
            <legend><!--[gt text='Permalinks']--></legend>
            <p class="z-informationmsg"><!--[gt text='Select a predefined PermaLink format, or choose your own']--></p>
            <input id="news_permalink_customformat" name="customformat" type="hidden"  value="<!--[$permalinkformat|default:'%year%/%monthnum%/%day%/%storytitle%/']-->" size="50" />
            <div class="z-formrow">
                <label><!--[gt text='Date and name-based']--></label>
                <input id="news_permalink_datename" onclick="news_permalink_onclick()" name="permalinkformat" type="radio" value="%year%/%monthnum%/%day%/%storytitle%"<!--[if $permalinkformat eq '%year%/%monthnum%/%day%/%storytitle%']--> checked="checked"<!--[/if]--> />
                <span><!--[$baseurl]--><!--[pnmodgetinfo modname=News info=displayname]-->/<!--[datetime format="%Y/%m/%d"]-->/<!--[gt text='your-story-title']-->/</span>
            </div>
            <div class="z-formrow">
                <label><!--[gt text='Numeric']--></label>
                <input id="news_permalink_numeric" onclick="news_permalink_onclick()" name="permalinkformat" type="radio" value="%storyid%"<!--[if $permalinkformat eq '%storyid%']--> checked="checked"<!--[/if]--> />
                <span><!--[$baseurl]--><!--[pnmodgetinfo modname='News' info='displayname']-->/123</span>
            </div>
            <div class="z-formrow">
                <label><!--[gt text='Custom']--></label>
                <input id="news_permalink_custom" onclick="news_permalink_onclick()" name="permalinkformat" type="radio" value="custom" <!--[if $permalinkformat neq '%storyid%' and $permalinkformat neq '%year%/%monthnum%/%day%/%storytitle%']--> checked="checked"<!--[/if]--> />
            </div>
            <div class="z-formrow">
                <label><!--[gt text='Custom structure']--></label>
                <input id="news_permalink_format" onclick="news_permalink_onclick()" name="permalinkstructure" type="text"  value="<!--[$permalinkformat|default:'%year%/%monthnum%/%day%/%storytitle%/']-->" size="50" />
                <div><!--[gt text='Reminder: A custom structure must contain either %storyid% or %storytitle%.']--></div>
            </div>
            <h4><!--[gt text='Possible values for custom structure']--></h4>
            <ul>
                <li>%year% - <!--[gt text='Year (including century)']--></li>
                <li>%monthnum% - <!--[gt text='Month number (1-12)']--></li>
                <li>%monthname% - <!--[gt text='Month name (jan-dec)']--></li>
                <li>%day% - <!--[gt text='Day']--></li>
                <li>%storytitle% - <!--[gt text='News Article Title']--></li>
                <li>%storyid% - <!--[gt text='News Article ID']--> </li>
                <li>%category% - <!--[gt text='Category']--> </li>
            </ul>
        </fieldset>
        <!--[/if]-->

        <!--[pnmodcallhooks hookobject='module' hookaction='modifyconfig' hookid='News' module='News']-->

        <div class="z-formrow z-formbuttons">
            <!--[pnbutton src='button_ok.gif' set='icons/small' __alt='OK' __title='OK']-->
            <a href="<!--[pnmodurl modname='News' type='admin' func='view']-->"><!--[pnimg modname='core' src='button_cancel.gif' set='icons/small' __alt='Cancel'  __title='Cancel']--></a>
        </div>
    </div>
    </form>
</div>
